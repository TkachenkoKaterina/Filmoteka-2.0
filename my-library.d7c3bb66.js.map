{"mappings":"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","sources":["src/my-library.js","src/partials-js/watchedQueueSet.js"],"sourcesContent":["import './partials-js/refs';\nimport './partials-js/vars';\nimport './partials-js/onLoadPage';\nimport './partials-js/themeSwitch';\nimport './partials-js/authorization';\nimport './partials-js/openModal';\nimport './partials-js/addToWatch';\nimport './partials-js/watchedQueueSet';\nimport './partials-js/tuiPagination';\nimport './partials-js/footer-modal';\nimport './partials-js/closePreloader';\n","import {\n    API_KEY,\n    MAIN_PART_URL,\n    MOVIE_BY_ID_PART,\n    MOBILE_STUB,\n    TABLET_STUB,\n    DESKTOP_STUB,\n    BASE_IMG_URL,\n    DESKTOP_SIZES,\n    TABLET_SIZES,\n    MOBILE_SIZES\n} from './vars';\nimport { requestGet } from './requestGet';\nimport { Notify } from 'notiflix';\n\nconst refs = {\n    movieList: document.querySelector('.movie__collection'),\n    watchedBtn: document.querySelector('input[value=\"Watched\"]'),\n    queueBtn: document.querySelector('input[value=\"Queue\"]'),\n}\n\n// --------- Тимчасово-----------//\n\n// const arrOfId = ['76600', '550', '12', '1038779'];\n// const arrOfIdwatched = ['640146','653851', '674324', '615777'];\n// localStorage.setItem(\"queue\", JSON.stringify(arrOfId));\n// localStorage.setItem(\"watched\", JSON.stringify(arrOfIdwatched));\n\n//------------------------------//\n\ndocument.addEventListener('DOMContentLoaded', onWatchedBtnClick);\nrefs.queueBtn.addEventListener('click', onQueueBtnClick);\nrefs.watchedBtn.addEventListener('click', onWatchedBtnClick);\n\nexport async function onQueueBtnClick() {\n    refs.queueBtn.removeEventListener('click', onQueueBtnClick);\n    refs.movieList.innerHTML = '';\n\n    const arrOfQueueId = JSON.parse(localStorage.getItem(\"queue\"));\n    if (arrOfQueueId === null || arrOfQueueId.length === 0) {\n        Notify.info(\"You don't have any movies in the queue yet\");\n        refs.watchedBtn.addEventListener('click', onWatchedBtnClick);\n        return;\n    }\n\n    // function checkStorage(key) {\n    //     const arrOfId = JSON.parse(localStorage.getItem(key));\n    //     if (arrOfId === null || arrOfId.length === 0) {\n    //         console.log('Фільмів нема');\n    //         refs.watchedBtn.addEventListener('click', onWatchedBtnClick);\n    //         return;\n    //     }\n    //     return arrOfId;\n    // }\n\n    const arrPromisesCards = arrOfQueueId.map(async (el) => {\n        const response = await requestGet(MAIN_PART_URL, MOVIE_BY_ID_PART, el, API_KEY);\n        const objDataMovie = await response.data;\n        // console.log(objDataMovie);\n        const genresString = objDataMovie.genres.map(el => el.name).join(', ');\n        // console.log(genresString);\n        const card = makeCard(objDataMovie, genresString);\n        return card;\n    });\n\n    const arrOfCards = await Promise.all(arrPromisesCards);\n    refs.movieList.insertAdjacentHTML('beforeend', arrOfCards.join(''));\n    refs.watchedBtn.addEventListener('click', onWatchedBtnClick);\n}\n\nexport async function onWatchedBtnClick() {\n    refs.watchedBtn.removeEventListener('click', onWatchedBtnClick);\n    refs.movieList.innerHTML = '';\n\n    const arrOfWatchedId = JSON.parse(localStorage.getItem(\"watched\"));\n    if (arrOfWatchedId === null || arrOfWatchedId.length === 0) {\n        Notify.info('You have no watched movies yet');\n        refs.queueBtn.addEventListener('click', onQueueBtnClick);\n        return;\n    }\n\n    const arrPromisesCards = arrOfWatchedId.map(async (el) => {\n        const response = await requestGet(MAIN_PART_URL, MOVIE_BY_ID_PART, el, API_KEY);\n        const objDataMovie = await response.data;\n        const genresString = objDataMovie.genres.map(el => el.name).join(', ');\n        const card = makeCard(objDataMovie, genresString);\n        return card;\n    });\n    const arrOfCards = await Promise.all(arrPromisesCards);\n    refs.movieList.insertAdjacentHTML('beforeend', arrOfCards.join(''));\n    refs.queueBtn.addEventListener('click', onQueueBtnClick);\n}\n\nfunction noPhoto(base_url, width, img_file, stub) {\n    let strM = '';\n    img_file === null ? (strM = stub) : (strM = `${base_url}${width}${img_file}`);\n    return strM;\n}\n\nfunction makeCard(obj, genrStr) {\n    return `\n        <li class=\"movie__card\">\n            <div class=\"movie__img__box\">\n                <picture class=\"film-list__img\">\n                    <source\n                        srcset=\"${noPhoto(\n                        BASE_IMG_URL,\n                        DESKTOP_SIZES,\n                        obj.poster_path,\n                        DESKTOP_STUB\n                      )}\"\n                        media=\"screen and (min-width:1200px)\"\n                    />\n                    <source\n                        srcset=\"${noPhoto(\n                        BASE_IMG_URL,\n                        TABLET_SIZES,\n                        obj.poster_path,\n                        TABLET_STUB\n                      )}\"\n                        media=\"(min-width:768px)\"\n                    />\n                    <source\n                        srcset=\"${noPhoto(\n                        BASE_IMG_URL,\n                        MOBILE_SIZES,\n                        obj.poster_path,\n                        MOBILE_STUB\n                      )}\"\n                        media=\"(max-width:767px)\"\n                    />\n                    <img\n                        class=\"movie__img\"\n                        src=\"./images/no-Film-Img.jpg\"\n                        alt=\"${obj.original_title}\"\n                        width=\"450\"\n                        height=\"294\"\n                        name=\"Poster\"\n                        data-id=\"${obj.id}\"\n                    />\n                </picture>           \n            </div>\n            <div class=\"movie__card__textbox\">\n                <h3 class=\"movie__title\">${obj.original_title}</h3>\n                <span class=\"movie__details\">${genrStr} | </span>\n                <span class=\"movie__details\">${obj.release_date.slice(0, 4)}</span>\n            </div>\n        </li>`;\n}"],"names":["parcelRequire","$bpxeT","$00ac34d59007d814$var$refs","movieList","document","querySelector","watchedBtn","queueBtn","$00ac34d59007d814$export$47c64e1cb6fdbeb7","$00ac34d59007d814$var$_onQueueBtnClick","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee1","arrOfQueueId","arrPromisesCards","arrOfCards","removeEventListener","innerHTML","JSON","parse","localStorage","getItem","length","$6JpON","Notify","info","addEventListener","$00ac34d59007d814$export$852eb21c65e590aa","map","_callee","el1","response","objDataMovie","genresString","card","$hANss","requestGet","$fNJtc","MAIN_PART_URL","MOVIE_BY_ID_PART","API_KEY","_ctx","sent","data","genres","el","name","join","$00ac34d59007d814$var$makeCard","Promise","all","_ctx1","insertAdjacentHTML","$00ac34d59007d814$var$_onWatchedBtnClick","_callee2","arrOfWatchedId","el2","_ctx2","$00ac34d59007d814$var$noPhoto","base_url","width","img_file","stub","concat","obj","genrStr","BASE_IMG_URL","DESKTOP_SIZES","poster_path","DESKTOP_STUB","TABLET_SIZES","TABLET_STUB","MOBILE_SIZES","MOBILE_STUB","original_title","id","release_date","slice"],"version":3,"file":"my-library.d7c3bb66.js.map"}